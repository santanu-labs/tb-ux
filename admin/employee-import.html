<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Import Employees — Trvello Admin</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="../css/shadcn-tokens.css">
  <style>.active-method { border-color: hsl(var(--primary)) !important; box-shadow: 0 0 0 1px hsl(var(--primary)); }</style>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: { sans: ['Inter', 'sans-serif'] },
          colors: {
            border: 'hsl(var(--border))',
            input: 'hsl(var(--input))',
            ring: 'hsl(var(--ring))',
            background: 'hsl(var(--background))',
            foreground: 'hsl(var(--foreground))',
            primary: { DEFAULT: 'hsl(var(--primary))', foreground: 'hsl(var(--primary-foreground))' },
            secondary: { DEFAULT: 'hsl(var(--secondary))', foreground: 'hsl(var(--secondary-foreground))' },
            muted: { DEFAULT: 'hsl(var(--muted))', foreground: 'hsl(var(--muted-foreground))' },
            accent: { DEFAULT: 'hsl(var(--accent))', foreground: 'hsl(var(--accent-foreground))' },
            destructive: { DEFAULT: 'hsl(var(--destructive))', foreground: 'hsl(var(--destructive-foreground))' },
            card: { DEFAULT: 'hsl(var(--card))', foreground: 'hsl(var(--card-foreground))' },
          },
          borderRadius: { lg: 'var(--radius)', md: 'calc(var(--radius) - 2px)', sm: 'calc(var(--radius) - 4px)' }
        }
      }
    }
  </script>
</head>
<body class="font-sans bg-background text-foreground">

  <div class="admin-layout">
    <div id="sidebar-overlay" class="fixed inset-0 bg-black/50 z-30 hidden lg:hidden"></div>

    <!-- Sidebar -->
    <aside id="sidebar" class="sidebar">
      <div class="sidebar-header">
        <div class="flex items-center gap-2.5">
          <div class="w-8 h-8 rounded-lg bg-white/10 flex items-center justify-center"><i data-lucide="globe" class="w-4.5 h-4.5 text-white"></i></div>
          <div class="sidebar-brand-text"><div class="text-sm font-semibold text-white">Trvello</div><div class="text-[11px] text-white/50">Admin Portal</div></div>
          <button id="sidebar-collapse-btn" class="sidebar-collapse-btn" title="Collapse sidebar"><i data-lucide="panel-left-close" class="w-4 h-4"></i></button>
        </div>
      </div>
      <nav class="sidebar-content">
        <div class="sidebar-section-label">Main</div>
        <a href="dashboard.html" class="sidebar-link"><i data-lucide="layout-dashboard"></i> Dashboard</a>
        <div class="sidebar-section-label mt-4">People</div>
        <a href="employees.html" class="sidebar-link"><i data-lucide="users"></i> Employees</a>
        <a href="employee-import.html" class="sidebar-link active"><i data-lucide="upload"></i> Import Employees</a>
        <div class="sidebar-section-label mt-4">Benefits</div>
        <a href="perks.html" class="sidebar-link"><i data-lucide="gift"></i> Perks</a>
        <a href="perks.html#peer-recognition" class="sidebar-link"><i data-lucide="heart-handshake"></i> Peer Recognition</a>
        <a href="financial-summary.html" class="sidebar-link"><i data-lucide="bar-chart-3"></i> Financial Summary</a>
        <a href="payment-details.html" class="sidebar-link"><i data-lucide="credit-card"></i> Payment Details</a>
        <a href="payment-history.html" class="sidebar-link"><i data-lucide="receipt"></i> Payment History</a>
        <div class="sidebar-section-label mt-4">System</div>
        <a href="audit-logs.html" class="sidebar-link"><i data-lucide="scroll-text"></i> Audit Logs</a>
        <div class="sidebar-section-label mt-4">Settings</div>
        <a href="settings/general.html" class="sidebar-link"><i data-lucide="settings"></i> General</a>
        <a href="settings/branding.html" class="sidebar-link"><i data-lucide="palette"></i> Branding</a>
        <a href="settings/sign-in.html" class="sidebar-link"><i data-lucide="key-round"></i> Sign-in Methods</a>
        <a href="settings/integrations.html" class="sidebar-link"><i data-lucide="puzzle"></i> Integrations</a>
      </nav>
      <div class="sidebar-footer">
        <div class="flex items-center gap-3 sidebar-footer-profile">
          <div class="avatar w-8 h-8 text-xs">JD</div>
          <div class="flex-1 min-w-0 sidebar-footer-info"><div class="text-sm font-medium text-white truncate">Jane Doe</div><div class="text-[11px] text-white/50">Org Admin</div></div>
        </div>
        <div class="sidebar-footer-links"><a href="../employee/dashboard.html" class="sidebar-link mt-3 text-xs"><i data-lucide="arrow-left-right"></i> Switch to Employee View</a></div>
        
      </div>
    </aside>

    <!-- Main -->
    <div class="admin-main">
      <header class="admin-topbar">
        <div class="flex items-center gap-4">
          <button id="sidebar-toggle" class="lg:hidden p-2 -ml-2 rounded-md hover:bg-muted"><i data-lucide="menu" class="w-5 h-5"></i></button>
          <div>
            <h1 class="text-lg font-semibold">Import Employees</h1>
            <p class="text-xs text-muted-foreground">People &gt; Import Employees</p>
          </div>
        </div>
        <div class="flex items-center gap-3">
          <button class="btn-ghost btn-icon relative"><i data-lucide="bell" class="w-5 h-5"></i></button>
          <div class="avatar w-8 h-8 text-xs">JD</div>
        </div>
      </header>

      <main class="admin-content max-w-3xl">

        <!-- Import Method Picker -->
        <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 mb-8" id="import-method-picker">
          <button class="card hover:border-primary hover:shadow-md transition-all text-left cursor-pointer import-method-btn active-method" data-method="csv">
            <div class="card-content p-5">
              <div class="flex items-center gap-3 mb-2">
                <div class="w-10 h-10 rounded-lg bg-green-50 border border-green-200 flex items-center justify-center flex-shrink-0">
                  <i data-lucide="file-spreadsheet" class="w-5 h-5 text-green-600"></i>
                </div>
                <div>
                  <h4 class="text-sm font-semibold">CSV Import</h4>
                  <span class="badge badge-success text-[10px]">Available</span>
                </div>
              </div>
              <p class="text-xs text-muted-foreground">Upload a spreadsheet file to bulk-add employees in one go.</p>
            </div>
          </button>
          <button class="card hover:border-primary hover:shadow-md transition-all text-left cursor-pointer import-method-btn" data-method="api">
            <div class="card-content p-5">
              <div class="flex items-center gap-3 mb-2">
                <div class="w-10 h-10 rounded-lg bg-blue-50 border border-blue-200 flex items-center justify-center flex-shrink-0">
                  <i data-lucide="plug" class="w-5 h-5 text-blue-600"></i>
                </div>
                <div>
                  <h4 class="text-sm font-semibold">REST API</h4>
                  <span class="badge badge-success text-[10px]">Available</span>
                </div>
              </div>
              <p class="text-xs text-muted-foreground">Push employee data from your existing HR or internal systems via API.</p>
            </div>
          </button>
          <button class="card hover:border-primary hover:shadow-md transition-all text-left cursor-pointer import-method-btn" data-method="scim">
            <div class="card-content p-5">
              <div class="flex items-center gap-3 mb-2">
                <div class="w-10 h-10 rounded-lg bg-purple-50 border border-purple-200 flex items-center justify-center flex-shrink-0">
                  <i data-lucide="refresh-cw" class="w-5 h-5 text-purple-600"></i>
                </div>
                <div>
                  <h4 class="text-sm font-semibold">SCIM / Directory Sync</h4>
                  <span class="badge badge-success text-[10px]">Available</span>
                </div>
              </div>
              <p class="text-xs text-muted-foreground">Auto-sync employees from Okta, Azure AD, Google Workspace, or any SCIM provider.</p>
            </div>
          </button>
        </div>

        <!-- ═══ METHOD: CSV Import ═══ -->
        <div id="method-csv">

        <!-- Stepper -->
        <div class="flex items-center mb-8" data-tabs>
          <div class="stepper w-full">
            <div class="stepper-step active" data-step="1">
              <div class="stepper-dot">1</div>
              <span class="stepper-label hidden sm:inline">Upload</span>
            </div>
            <div class="stepper-line"></div>
            <div class="stepper-step" data-step="2">
              <div class="stepper-dot">2</div>
              <span class="stepper-label hidden sm:inline">Validate</span>
            </div>
            <div class="stepper-line"></div>
            <div class="stepper-step" data-step="3">
              <div class="stepper-dot">3</div>
              <span class="stepper-label hidden sm:inline">Preview</span>
            </div>
            <div class="stepper-line"></div>
            <div class="stepper-step" data-step="4">
              <div class="stepper-dot">4</div>
              <span class="stepper-label hidden sm:inline">Import</span>
            </div>
            <div class="stepper-line"></div>
            <div class="stepper-step" data-step="5">
              <div class="stepper-dot">5</div>
              <span class="stepper-label hidden sm:inline">Results</span>
            </div>
          </div>
        </div>

        <!-- Step 1: Upload -->
        <div data-step-panel="1">
          <div class="card">
            <div class="card-header">
              <h3 class="card-title">Upload CSV File</h3>
              <p class="card-description">Upload a CSV file with employee data. Each row represents one employee.</p>
            </div>
            <div class="card-content">
              <div class="file-upload mb-6">
                <input type="file" accept=".csv" class="hidden">
                <div class="flex flex-col items-center gap-3">
                  <div class="w-12 h-12 rounded-full bg-muted flex items-center justify-center">
                    <i data-lucide="upload-cloud" class="w-6 h-6 text-muted-foreground"></i>
                  </div>
                  <div>
                    <p class="font-medium text-sm">Drop your CSV file here, or <span class="text-primary">browse</span></p>
                    <p class="text-xs text-muted-foreground mt-1">Supported format: .csv · Max 5,000 rows</p>
                  </div>
                </div>
              </div>

              <div class="flex items-center gap-3 p-3 bg-muted/50 rounded-lg mb-6">
                <i data-lucide="file-down" class="w-5 h-5 text-primary"></i>
                <div class="flex-1">
                  <p class="text-sm font-medium">Download CSV Template</p>
                  <p class="text-xs text-muted-foreground">Use our template to ensure correct formatting</p>
                </div>
                <button class="btn-outline btn-sm text-xs">Download</button>
              </div>

              <div class="space-y-2">
                <p class="text-sm font-medium">Required columns:</p>
                <div class="flex flex-wrap gap-2">
                  <span class="badge badge-outline text-xs">first_name</span>
                  <span class="badge badge-outline text-xs">last_name</span>
                  <span class="badge badge-outline text-xs">email</span>
                  <span class="badge badge-outline text-xs">department</span>
                </div>
                <p class="text-sm font-medium mt-3">Optional columns:</p>
                <div class="flex flex-wrap gap-2">
                  <span class="badge badge-outline text-xs">phone</span>
                  <span class="badge badge-outline text-xs">employee_id</span>
                  <span class="badge badge-outline text-xs">role</span>
                </div>
              </div>
            </div>
            <div class="card-footer flex justify-end">
              <button class="btn-primary" onclick="goToStep(2)">Upload & Validate</button>
            </div>
          </div>
        </div>

        <!-- Step 2: Validate -->
        <div data-step-panel="2" class="hidden">
          <div class="card">
            <div class="card-header">
              <h3 class="card-title">Validation Results</h3>
              <p class="card-description">We've checked your file for formatting issues</p>
            </div>
            <div class="card-content">
              <div class="grid grid-cols-3 gap-4 mb-6">
                <div class="text-center p-4 bg-green-50 rounded-lg border border-green-200">
                  <div class="text-2xl font-bold text-green-700">43</div>
                  <div class="text-xs text-green-600 font-medium">Valid Rows</div>
                </div>
                <div class="text-center p-4 bg-red-50 rounded-lg border border-red-200">
                  <div class="text-2xl font-bold text-red-700">2</div>
                  <div class="text-xs text-red-600 font-medium">Errors</div>
                </div>
                <div class="text-center p-4 bg-amber-50 rounded-lg border border-amber-200">
                  <div class="text-2xl font-bold text-amber-700">3</div>
                  <div class="text-xs text-amber-600 font-medium">Warnings</div>
                </div>
              </div>

              <!-- Errors -->
              <h4 class="text-sm font-semibold text-destructive mb-2 flex items-center gap-1.5">
                <i data-lucide="alert-circle" class="w-4 h-4"></i> Errors (must fix)
              </h4>
              <table class="table w-full mb-6">
                <thead>
                  <tr><th>Row</th><th>Field</th><th>Issue</th></tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="text-sm">Row 12</td>
                    <td class="text-sm">email</td>
                    <td class="text-sm text-destructive">Invalid email format: "john.doe@"</td>
                  </tr>
                  <tr>
                    <td class="text-sm">Row 28</td>
                    <td class="text-sm">email</td>
                    <td class="text-sm text-destructive">Duplicate email: "priya.patel@acmecorp.com" (already exists)</td>
                  </tr>
                </tbody>
              </table>

              <!-- Warnings -->
              <h4 class="text-sm font-semibold text-amber-600 mb-2 flex items-center gap-1.5">
                <i data-lucide="alert-triangle" class="w-4 h-4"></i> Warnings (will be imported with defaults)
              </h4>
              <table class="table w-full">
                <thead>
                  <tr><th>Row</th><th>Field</th><th>Issue</th></tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="text-sm">Row 5</td>
                    <td class="text-sm">department</td>
                    <td class="text-sm text-amber-600">Empty department — will default to "Unassigned"</td>
                  </tr>
                  <tr>
                    <td class="text-sm">Row 19</td>
                    <td class="text-sm">phone</td>
                    <td class="text-sm text-amber-600">Invalid phone format — will be skipped</td>
                  </tr>
                  <tr>
                    <td class="text-sm">Row 31</td>
                    <td class="text-sm">department</td>
                    <td class="text-sm text-amber-600">Empty department — will default to "Unassigned"</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="card-footer flex justify-between">
              <button class="btn-outline" onclick="goToStep(1)">Re-upload</button>
              <button class="btn-primary" onclick="goToStep(3)">Continue with 43 valid rows</button>
            </div>
          </div>
        </div>

        <!-- Step 3: Preview -->
        <div data-step-panel="3" class="hidden">
          <div class="card">
            <div class="card-header">
              <h3 class="card-title">Preview Import</h3>
              <p class="card-description">Review the first 10 rows before importing. 43 employees will be added.</p>
            </div>
            <div class="card-content p-0">
              <div class="overflow-x-auto">
                <table class="table w-full">
                  <thead>
                    <tr>
                      <th>#</th>
                      <th>First Name</th>
                      <th>Last Name</th>
                      <th>Email</th>
                      <th>Department</th>
                      <th>Role</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr><td class="text-xs text-muted-foreground">1</td><td class="text-sm">Amit</td><td class="text-sm">Kumar</td><td class="text-sm">amit.kumar@acmecorp.com</td><td class="text-sm">Engineering</td><td class="text-sm">Employee</td></tr>
                    <tr><td class="text-xs text-muted-foreground">2</td><td class="text-sm">Sara</td><td class="text-sm">Ali</td><td class="text-sm">sara.ali@acmecorp.com</td><td class="text-sm">Marketing</td><td class="text-sm">Employee</td></tr>
                    <tr><td class="text-xs text-muted-foreground">3</td><td class="text-sm">Deepak</td><td class="text-sm">Nair</td><td class="text-sm">deepak.nair@acmecorp.com</td><td class="text-sm">Sales</td><td class="text-sm">Employee</td></tr>
                    <tr><td class="text-xs text-muted-foreground">4</td><td class="text-sm">Kavya</td><td class="text-sm">Menon</td><td class="text-sm">kavya.menon@acmecorp.com</td><td class="text-sm">Design</td><td class="text-sm">Employee</td></tr>
                    <tr><td class="text-xs text-muted-foreground">5</td><td class="text-sm">Rajesh</td><td class="text-sm">Iyer</td><td class="text-sm">rajesh.iyer@acmecorp.com</td><td class="text-sm text-amber-600">Unassigned</td><td class="text-sm">Employee</td></tr>
                    <tr><td class="text-xs text-muted-foreground">6</td><td class="text-sm">Neha</td><td class="text-sm">Gupta</td><td class="text-sm">neha.gupta@acmecorp.com</td><td class="text-sm">HR</td><td class="text-sm">Employee</td></tr>
                    <tr><td class="text-xs text-muted-foreground">7</td><td class="text-sm">Arjun</td><td class="text-sm">Reddy</td><td class="text-sm">arjun.reddy@acmecorp.com</td><td class="text-sm">Finance</td><td class="text-sm">Employee</td></tr>
                    <tr><td class="text-xs text-muted-foreground">8</td><td class="text-sm">Pooja</td><td class="text-sm">Shah</td><td class="text-sm">pooja.shah@acmecorp.com</td><td class="text-sm">Engineering</td><td class="text-sm">Co-Admin</td></tr>
                    <tr><td class="text-xs text-muted-foreground">9</td><td class="text-sm">Karthik</td><td class="text-sm">Rajan</td><td class="text-sm">karthik.rajan@acmecorp.com</td><td class="text-sm">Engineering</td><td class="text-sm">Employee</td></tr>
                    <tr><td class="text-xs text-muted-foreground">10</td><td class="text-sm">Divya</td><td class="text-sm">Prakash</td><td class="text-sm">divya.prakash@acmecorp.com</td><td class="text-sm">Marketing</td><td class="text-sm">Employee</td></tr>
                  </tbody>
                </table>
              </div>
            </div>
            <div class="card-footer flex items-center justify-between">
              <span class="text-sm text-muted-foreground">Showing 10 of 43 rows</span>
              <div class="flex gap-2">
                <button class="btn-outline" onclick="goToStep(2)">Back</button>
                <button class="btn-primary" onclick="goToStep(4)">Import 43 Employees</button>
              </div>
            </div>
          </div>
        </div>

        <!-- Step 4: Importing -->
        <div data-step-panel="4" class="hidden">
          <div class="card">
            <div class="card-header text-center">
              <h3 class="card-title">Importing Employees...</h3>
              <p class="card-description">Please don't close this page</p>
            </div>
            <div class="card-content flex flex-col items-center py-8">
              <div class="w-16 h-16 rounded-full border-4 border-primary/20 border-t-primary animate-spin mb-6"></div>
              <p class="text-sm font-medium mb-2">Importing 28 of 43 employees...</p>
              <div class="w-full max-w-xs">
                <div class="progress-bar">
                  <div class="progress-bar-fill" style="width:65%"></div>
                </div>
              </div>
              <p class="text-xs text-muted-foreground mt-3">Sending welcome emails...</p>
            </div>
            <div class="card-footer flex justify-center">
              <button class="btn-primary" onclick="goToStep(5)">Skip to Results (demo)</button>
            </div>
          </div>
        </div>

        <!-- Step 5: Results -->
        <div data-step-panel="5" class="hidden">
          <div class="card">
            <div class="card-header text-center">
              <div class="w-14 h-14 rounded-full bg-green-100 flex items-center justify-center mx-auto mb-3">
                <i data-lucide="check-circle" class="w-7 h-7 text-green-600"></i>
              </div>
              <h3 class="card-title">Import Complete!</h3>
              <p class="card-description">Here's a summary of the import</p>
            </div>
            <div class="card-content">
              <div class="grid grid-cols-3 gap-4 mb-6">
                <div class="text-center p-4 bg-green-50 rounded-lg border border-green-200">
                  <div class="text-2xl font-bold text-green-700">41</div>
                  <div class="text-xs text-green-600 font-medium">Imported</div>
                </div>
                <div class="text-center p-4 bg-red-50 rounded-lg border border-red-200">
                  <div class="text-2xl font-bold text-red-700">2</div>
                  <div class="text-xs text-red-600 font-medium">Failed</div>
                </div>
                <div class="text-center p-4 bg-blue-50 rounded-lg border border-blue-200">
                  <div class="text-2xl font-bold text-blue-700">41</div>
                  <div class="text-xs text-blue-600 font-medium">Emails Sent</div>
                </div>
              </div>

              <div class="space-y-3">
                <div class="flex items-center gap-3 p-3 bg-muted/50 rounded-lg">
                  <i data-lucide="file-down" class="w-5 h-5 text-muted-foreground"></i>
                  <div class="flex-1">
                    <p class="text-sm font-medium">Download Error Report</p>
                    <p class="text-xs text-muted-foreground">2 rows failed — download details</p>
                  </div>
                  <button class="btn-outline btn-sm text-xs">Download</button>
                </div>
                <div class="flex items-center gap-3 p-3 bg-green-50 rounded-lg border border-green-200">
                  <i data-lucide="mail-check" class="w-5 h-5 text-green-600"></i>
                  <p class="text-sm text-green-700">Welcome emails sent to 41 new employees with login instructions</p>
                </div>
              </div>
            </div>
            <div class="card-footer flex justify-center gap-3">
              <button class="btn-outline" onclick="goToStep(1)">Import More</button>
              <a href="employees.html" class="btn-primary flex items-center gap-1.5">
                <i data-lucide="users" class="w-4 h-4"></i> Go to Employee List
              </a>
            </div>
          </div>
        </div>

        </div><!-- /METHOD: CSV Import -->

        <!-- ═══ METHOD: REST API ═══ -->
        <div id="method-api" style="display:none;">

          <!-- API Overview -->
          <div class="card mb-6">
            <div class="card-header">
              <h3 class="card-title flex items-center gap-2"><i data-lucide="plug" class="w-5 h-5 text-blue-600"></i> REST API Integration</h3>
              <p class="card-description">Use Trvello's Employee API to push employee data from your HRMS, ERP, or custom internal systems.</p>
            </div>
            <div class="card-content space-y-6">

              <!-- API Credentials -->
              <div>
                <h4 class="text-sm font-semibold mb-3 flex items-center gap-1.5"><i data-lucide="key" class="w-4 h-4 text-muted-foreground"></i> API Credentials</h4>
                <div class="space-y-3">
                  <div>
                    <label class="label">API Base URL</label>
                    <div class="flex gap-2">
                      <input class="input w-full font-mono text-xs" value="https://api.trvello.com/v1/orgs/acmecorp" readonly>
                      <button class="btn-outline btn-sm flex-shrink-0" onclick="showToast('Copied!','success')"><i data-lucide="copy" class="w-3.5 h-3.5"></i></button>
                    </div>
                  </div>
                  <div>
                    <label class="label">API Key</label>
                    <div class="flex gap-2">
                      <input class="input w-full font-mono text-xs" value="tvl_sk_live_a1b2c3d4e5f6•••••••••••••••" readonly type="password" id="api-key-input">
                      <button class="btn-outline btn-sm flex-shrink-0" onclick="const el=document.getElementById('api-key-input');el.type=el.type==='password'?'text':'password';"><i data-lucide="eye" class="w-3.5 h-3.5"></i></button>
                      <button class="btn-outline btn-sm flex-shrink-0" onclick="showToast('Copied!','success')"><i data-lucide="copy" class="w-3.5 h-3.5"></i></button>
                    </div>
                    <p class="text-xs text-muted-foreground mt-1">Keep this key secret. It has write access to your employee data.</p>
                  </div>
                  <div class="flex gap-2">
                    <button class="btn-outline btn-sm text-xs"><i data-lucide="refresh-cw" class="w-3 h-3"></i> Regenerate Key</button>
                  </div>
                </div>
              </div>

              <div class="separator"></div>

              <!-- Endpoints Reference -->
              <div>
                <h4 class="text-sm font-semibold mb-3 flex items-center gap-1.5"><i data-lucide="book-open" class="w-4 h-4 text-muted-foreground"></i> Endpoints</h4>
                <div class="space-y-3">
                  <!-- POST /employees -->
                  <div class="border border-border rounded-lg overflow-hidden">
                    <div class="flex items-center gap-3 px-4 py-2.5 bg-muted/50">
                      <span class="badge text-[10px] font-bold" style="background:hsl(142 76% 36%);color:white;">POST</span>
                      <code class="text-xs font-mono">/v1/orgs/{org}/employees</code>
                      <span class="text-xs text-muted-foreground ml-auto">Create single employee</span>
                    </div>
                    <div class="px-4 py-3 bg-slate-950 text-green-400 text-[11px] font-mono leading-relaxed overflow-x-auto">
<pre>{
  "first_name": "Priya",
  "last_name": "Kapoor",
  "email": "priya.kapoor@acmecorp.com",
  "department": "Engineering",
  "role": "employee",
  "send_invite": true
}</pre>
                    </div>
                  </div>

                  <!-- POST /employees/bulk -->
                  <div class="border border-border rounded-lg overflow-hidden">
                    <div class="flex items-center gap-3 px-4 py-2.5 bg-muted/50">
                      <span class="badge text-[10px] font-bold" style="background:hsl(142 76% 36%);color:white;">POST</span>
                      <code class="text-xs font-mono">/v1/orgs/{org}/employees/bulk</code>
                      <span class="text-xs text-muted-foreground ml-auto">Bulk create (up to 500)</span>
                    </div>
                    <div class="px-4 py-3 bg-slate-950 text-green-400 text-[11px] font-mono leading-relaxed overflow-x-auto">
<pre>{
  "employees": [
    { "first_name": "Amit", "last_name": "Kumar", "email": "amit@acmecorp.com", "department": "Sales" },
    { "first_name": "Neha", "last_name": "Gupta", "email": "neha@acmecorp.com", "department": "HR" }
  ],
  "send_invite": true,
  "skip_duplicates": true
}</pre>
                    </div>
                  </div>

                  <!-- GET /employees -->
                  <div class="border border-border rounded-lg overflow-hidden">
                    <div class="flex items-center gap-3 px-4 py-2.5 bg-muted/50">
                      <span class="badge text-[10px] font-bold" style="background:hsl(217 91% 60%);color:white;">GET</span>
                      <code class="text-xs font-mono">/v1/orgs/{org}/employees</code>
                      <span class="text-xs text-muted-foreground ml-auto">List all employees</span>
                    </div>
                  </div>

                  <!-- PATCH /employees/:id -->
                  <div class="border border-border rounded-lg overflow-hidden">
                    <div class="flex items-center gap-3 px-4 py-2.5 bg-muted/50">
                      <span class="badge text-[10px] font-bold" style="background:hsl(38 92% 50%);color:white;">PATCH</span>
                      <code class="text-xs font-mono">/v1/orgs/{org}/employees/{id}</code>
                      <span class="text-xs text-muted-foreground ml-auto">Update employee</span>
                    </div>
                  </div>

                  <!-- DELETE /employees/:id -->
                  <div class="border border-border rounded-lg overflow-hidden">
                    <div class="flex items-center gap-3 px-4 py-2.5 bg-muted/50">
                      <span class="badge text-[10px] font-bold" style="background:hsl(0 84% 60%);color:white;">DELETE</span>
                      <code class="text-xs font-mono">/v1/orgs/{org}/employees/{id}</code>
                      <span class="text-xs text-muted-foreground ml-auto">Deactivate employee</span>
                    </div>
                  </div>
                </div>
              </div>

              <div class="separator"></div>

              <!-- Webhook for sync-back -->
              <div>
                <h4 class="text-sm font-semibold mb-3 flex items-center gap-1.5"><i data-lucide="webhook" class="w-4 h-4 text-muted-foreground"></i> Webhook (optional)</h4>
                <p class="text-xs text-muted-foreground mb-3">Receive callbacks when employees are created, updated, or deactivated via the API.</p>
                <div class="space-y-3">
                  <div>
                    <label class="label">Webhook URL</label>
                    <input class="input w-full" placeholder="https://your-server.com/webhooks/trvello">
                  </div>
                  <div>
                    <label class="label mb-2 block">Events</label>
                    <div class="flex flex-wrap gap-3">
                      <label class="flex items-center gap-2 text-sm"><input type="checkbox" class="checkbox" checked> employee.created</label>
                      <label class="flex items-center gap-2 text-sm"><input type="checkbox" class="checkbox" checked> employee.updated</label>
                      <label class="flex items-center gap-2 text-sm"><input type="checkbox" class="checkbox"> employee.deactivated</label>
                    </div>
                  </div>
                  <button class="btn-outline btn-sm text-xs"><i data-lucide="zap" class="w-3 h-3"></i> Test Webhook</button>
                </div>
              </div>

              <div class="separator"></div>

              <!-- Recent API Activity -->
              <div>
                <h4 class="text-sm font-semibold mb-3 flex items-center gap-1.5"><i data-lucide="activity" class="w-4 h-4 text-muted-foreground"></i> Recent API Activity</h4>
                <div class="border border-border rounded-lg overflow-hidden">
                  <table class="table w-full">
                    <thead>
                      <tr>
                        <th>Timestamp</th>
                        <th>Method</th>
                        <th>Endpoint</th>
                        <th>Status</th>
                        <th class="text-right">Records</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td class="text-xs text-muted-foreground">28 Feb, 14:32</td>
                        <td><span class="badge text-[10px] font-bold" style="background:hsl(142 76% 36%);color:white;">POST</span></td>
                        <td class="text-xs font-mono">/employees/bulk</td>
                        <td><span class="badge badge-success text-[10px]">200 OK</span></td>
                        <td class="text-sm text-right font-medium">12</td>
                      </tr>
                      <tr>
                        <td class="text-xs text-muted-foreground">27 Feb, 09:15</td>
                        <td><span class="badge text-[10px] font-bold" style="background:hsl(142 76% 36%);color:white;">POST</span></td>
                        <td class="text-xs font-mono">/employees</td>
                        <td><span class="badge badge-success text-[10px]">201 Created</span></td>
                        <td class="text-sm text-right font-medium">1</td>
                      </tr>
                      <tr>
                        <td class="text-xs text-muted-foreground">27 Feb, 09:10</td>
                        <td><span class="badge text-[10px] font-bold" style="background:hsl(142 76% 36%);color:white;">POST</span></td>
                        <td class="text-xs font-mono">/employees/bulk</td>
                        <td><span class="badge text-[10px]" style="background:hsl(0 84% 95%);color:hsl(0 84% 40%);">207 Multi</span></td>
                        <td class="text-sm text-right font-medium">48 (2 failed)</td>
                      </tr>
                      <tr>
                        <td class="text-xs text-muted-foreground">25 Feb, 16:45</td>
                        <td><span class="badge text-[10px] font-bold" style="background:hsl(217 91% 60%);color:white;">GET</span></td>
                        <td class="text-xs font-mono">/employees?status=active</td>
                        <td><span class="badge badge-success text-[10px]">200 OK</span></td>
                        <td class="text-sm text-right font-medium">248</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>

            </div>
            <div class="card-footer flex justify-between">
              <a href="https://docs.trvello.com/api" target="_blank" class="btn-outline btn-sm text-xs flex items-center gap-1.5"><i data-lucide="external-link" class="w-3 h-3"></i> Full API Docs</a>
              <button class="btn-primary btn-sm" onclick="showToast('Settings saved!','success')">Save Webhook Settings</button>
            </div>
          </div>

        </div><!-- /METHOD: REST API -->

        <!-- ═══ METHOD: SCIM / Directory Sync ═══ -->
        <div id="method-scim" style="display:none;">

          <div class="flex items-start gap-2 p-3 mb-6 bg-blue-50 border border-blue-200 rounded-lg text-sm text-blue-800">
            <i data-lucide="info" class="w-4 h-4 mt-0.5 flex-shrink-0"></i>
            <span>SCIM automatically keeps your Trvello employee list in sync with your identity provider. When you add or remove users in your IdP, the changes propagate here in real time.</span>
          </div>

          <!-- Connection Status -->
          <div class="card mb-6">
            <div class="card-header">
              <h3 class="card-title flex items-center gap-2"><i data-lucide="refresh-cw" class="w-5 h-5 text-purple-600"></i> Directory Sync Status</h3>
            </div>
            <div class="card-content">
              <div class="grid grid-cols-2 sm:grid-cols-4 gap-4 mb-6">
                <div class="bg-muted/50 rounded-lg p-3 text-center">
                  <span class="text-[10px] text-muted-foreground uppercase tracking-wider">Status</span>
                  <p class="text-sm font-semibold text-amber-600 flex items-center gap-1 justify-center mt-0.5"><span class="w-2 h-2 rounded-full bg-amber-500 inline-block"></span> Not Connected</p>
                </div>
                <div class="bg-muted/50 rounded-lg p-3 text-center">
                  <span class="text-[10px] text-muted-foreground uppercase tracking-wider">Provider</span>
                  <p class="text-sm font-medium mt-0.5">—</p>
                </div>
                <div class="bg-muted/50 rounded-lg p-3 text-center">
                  <span class="text-[10px] text-muted-foreground uppercase tracking-wider">Last Sync</span>
                  <p class="text-sm font-medium mt-0.5">—</p>
                </div>
                <div class="bg-muted/50 rounded-lg p-3 text-center">
                  <span class="text-[10px] text-muted-foreground uppercase tracking-wider">Synced Users</span>
                  <p class="text-sm font-medium mt-0.5">—</p>
                </div>
              </div>
            </div>
          </div>

          <!-- Provider Selection -->
          <div class="card mb-6">
            <div class="card-header">
              <h3 class="card-title">Choose Identity Provider</h3>
              <p class="card-description">Select your corporate directory to set up automatic employee sync</p>
            </div>
            <div class="card-content">
              <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 mb-6">
                <!-- Okta -->
                <label class="border border-border rounded-lg p-4 cursor-pointer hover:border-primary hover:bg-primary/5 transition-all flex items-center gap-3 has-[:checked]:border-primary has-[:checked]:bg-primary/5">
                  <input type="radio" name="scim-provider" class="hidden" value="okta">
                  <div class="w-10 h-10 rounded-lg bg-blue-50 border border-blue-200 flex items-center justify-center flex-shrink-0">
                    <span class="text-blue-800 font-bold text-xs">Okta</span>
                  </div>
                  <div>
                    <h4 class="text-sm font-semibold">Okta</h4>
                    <p class="text-xs text-muted-foreground">SCIM 2.0 provisioning</p>
                  </div>
                </label>
                <!-- Azure AD -->
                <label class="border border-border rounded-lg p-4 cursor-pointer hover:border-primary hover:bg-primary/5 transition-all flex items-center gap-3 has-[:checked]:border-primary has-[:checked]:bg-primary/5">
                  <input type="radio" name="scim-provider" class="hidden" value="azure">
                  <div class="w-10 h-10 rounded-lg bg-sky-50 border border-sky-200 flex items-center justify-center flex-shrink-0">
                    <svg class="w-5 h-5" viewBox="0 0 21 21"><rect x="1" y="1" width="9" height="9" fill="#F25022"/><rect x="11" y="1" width="9" height="9" fill="#7FBA00"/><rect x="1" y="11" width="9" height="9" fill="#00A4EF"/><rect x="11" y="11" width="9" height="9" fill="#FFB900"/></svg>
                  </div>
                  <div>
                    <h4 class="text-sm font-semibold">Azure AD / Entra ID</h4>
                    <p class="text-xs text-muted-foreground">SCIM 2.0 provisioning</p>
                  </div>
                </label>
                <!-- Google Workspace -->
                <label class="border border-border rounded-lg p-4 cursor-pointer hover:border-primary hover:bg-primary/5 transition-all flex items-center gap-3 has-[:checked]:border-primary has-[:checked]:bg-primary/5">
                  <input type="radio" name="scim-provider" class="hidden" value="google">
                  <div class="w-10 h-10 rounded-lg bg-white border border-gray-200 flex items-center justify-center flex-shrink-0">
                    <svg class="w-5 h-5" viewBox="0 0 24 24"><path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 0 1-2.2 3.32v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.1z"/><path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/><path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/><path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/></svg>
                  </div>
                  <div>
                    <h4 class="text-sm font-semibold">Google Workspace</h4>
                    <p class="text-xs text-muted-foreground">Directory API sync</p>
                  </div>
                </label>
                <!-- Custom SCIM -->
                <label class="border border-border rounded-lg p-4 cursor-pointer hover:border-primary hover:bg-primary/5 transition-all flex items-center gap-3 has-[:checked]:border-primary has-[:checked]:bg-primary/5">
                  <input type="radio" name="scim-provider" class="hidden" value="custom">
                  <div class="w-10 h-10 rounded-lg bg-gray-50 border border-gray-200 flex items-center justify-center flex-shrink-0">
                    <i data-lucide="settings-2" class="w-5 h-5 text-gray-600"></i>
                  </div>
                  <div>
                    <h4 class="text-sm font-semibold">Custom SCIM 2.0</h4>
                    <p class="text-xs text-muted-foreground">Any SCIM-compatible IdP</p>
                  </div>
                </label>
              </div>
            </div>
          </div>

          <!-- SCIM Configuration -->
          <div class="card mb-6">
            <div class="card-header">
              <h3 class="card-title">SCIM Configuration</h3>
              <p class="card-description">Provide these values to your identity provider to enable automatic provisioning</p>
            </div>
            <div class="card-content space-y-4">
              <div>
                <label class="label">SCIM Endpoint URL</label>
                <div class="flex gap-2">
                  <input class="input w-full font-mono text-xs" value="https://api.trvello.com/scim/v2/acmecorp" readonly>
                  <button class="btn-outline btn-sm flex-shrink-0" onclick="showToast('Copied!','success')"><i data-lucide="copy" class="w-3.5 h-3.5"></i></button>
                </div>
              </div>
              <div>
                <label class="label">Bearer Token</label>
                <div class="flex gap-2">
                  <input class="input w-full font-mono text-xs" value="tvl_scim_a8f3e9c1b2d4•••••••••••••" readonly type="password" id="scim-token-input">
                  <button class="btn-outline btn-sm flex-shrink-0" onclick="const el=document.getElementById('scim-token-input');el.type=el.type==='password'?'text':'password';"><i data-lucide="eye" class="w-3.5 h-3.5"></i></button>
                  <button class="btn-outline btn-sm flex-shrink-0" onclick="showToast('Copied!','success')"><i data-lucide="copy" class="w-3.5 h-3.5"></i></button>
                </div>
                <p class="text-xs text-muted-foreground mt-1">Use this token as the Bearer auth header in your IdP SCIM config.</p>
              </div>
              <div class="flex gap-2">
                <button class="btn-outline btn-sm text-xs"><i data-lucide="refresh-cw" class="w-3 h-3"></i> Regenerate Token</button>
              </div>

              <div class="separator"></div>

              <!-- Attribute Mapping -->
              <div>
                <h4 class="text-sm font-semibold mb-3">Attribute Mapping</h4>
                <p class="text-xs text-muted-foreground mb-3">Map SCIM attributes to Trvello employee fields</p>
                <div class="border border-border rounded-lg overflow-hidden">
                  <table class="table w-full">
                    <thead>
                      <tr>
                        <th>SCIM Attribute</th>
                        <th><i data-lucide="arrow-right" class="w-3.5 h-3.5 inline"></i></th>
                        <th>Trvello Field</th>
                        <th>Required</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td class="text-xs font-mono">userName</td>
                        <td class="text-center"><i data-lucide="arrow-right" class="w-3 h-3 text-muted-foreground"></i></td>
                        <td class="text-sm">Email</td>
                        <td><span class="badge badge-destructive text-[10px]">Required</span></td>
                      </tr>
                      <tr>
                        <td class="text-xs font-mono">name.givenName</td>
                        <td class="text-center"><i data-lucide="arrow-right" class="w-3 h-3 text-muted-foreground"></i></td>
                        <td class="text-sm">First Name</td>
                        <td><span class="badge badge-destructive text-[10px]">Required</span></td>
                      </tr>
                      <tr>
                        <td class="text-xs font-mono">name.familyName</td>
                        <td class="text-center"><i data-lucide="arrow-right" class="w-3 h-3 text-muted-foreground"></i></td>
                        <td class="text-sm">Last Name</td>
                        <td><span class="badge badge-destructive text-[10px]">Required</span></td>
                      </tr>
                      <tr>
                        <td class="text-xs font-mono">urn:...:department</td>
                        <td class="text-center"><i data-lucide="arrow-right" class="w-3 h-3 text-muted-foreground"></i></td>
                        <td class="text-sm">Department</td>
                        <td><span class="badge badge-destructive text-[10px]">Required</span></td>
                      </tr>
                      <tr>
                        <td class="text-xs font-mono">phoneNumbers[0].value</td>
                        <td class="text-center"><i data-lucide="arrow-right" class="w-3 h-3 text-muted-foreground"></i></td>
                        <td class="text-sm">Phone</td>
                        <td><span class="badge badge-outline text-[10px]">Optional</span></td>
                      </tr>
                      <tr>
                        <td class="text-xs font-mono">externalId</td>
                        <td class="text-center"><i data-lucide="arrow-right" class="w-3 h-3 text-muted-foreground"></i></td>
                        <td class="text-sm">Employee ID</td>
                        <td><span class="badge badge-outline text-[10px]">Optional</span></td>
                      </tr>
                      <tr>
                        <td class="text-xs font-mono">active</td>
                        <td class="text-center"><i data-lucide="arrow-right" class="w-3 h-3 text-muted-foreground"></i></td>
                        <td class="text-sm">Status (Active/Inactive)</td>
                        <td><span class="badge badge-outline text-[10px]">Auto</span></td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>

              <div class="separator"></div>

              <!-- Sync Settings -->
              <div>
                <h4 class="text-sm font-semibold mb-3">Sync Behaviour</h4>
                <div class="space-y-3">
                  <label class="flex items-start gap-3 p-3 border border-border rounded-lg cursor-pointer hover:bg-muted/50">
                    <input type="checkbox" class="checkbox mt-0.5" checked>
                    <div>
                      <span class="text-sm font-medium">Auto-create new employees</span>
                      <p class="text-xs text-muted-foreground">When a new user appears in your directory, create them in Trvello and send a welcome email.</p>
                    </div>
                  </label>
                  <label class="flex items-start gap-3 p-3 border border-border rounded-lg cursor-pointer hover:bg-muted/50">
                    <input type="checkbox" class="checkbox mt-0.5" checked>
                    <div>
                      <span class="text-sm font-medium">Auto-deactivate removed employees</span>
                      <p class="text-xs text-muted-foreground">When a user is deprovisioned in your directory, automatically deactivate them in Trvello.</p>
                    </div>
                  </label>
                  <label class="flex items-start gap-3 p-3 border border-border rounded-lg cursor-pointer hover:bg-muted/50">
                    <input type="checkbox" class="checkbox mt-0.5">
                    <div>
                      <span class="text-sm font-medium">Sync profile updates</span>
                      <p class="text-xs text-muted-foreground">Keep name, department, and phone updated when changed in the directory.</p>
                    </div>
                  </label>
                </div>
              </div>
            </div>
            <div class="card-footer flex justify-between">
              <button class="btn-outline btn-sm text-xs flex items-center gap-1.5"><i data-lucide="play" class="w-3 h-3"></i> Test Connection</button>
              <button class="btn-primary btn-sm" onclick="showToast('SCIM configuration saved!','success')">Save & Enable</button>
            </div>
          </div>

          <!-- Sync History -->
          <div class="card">
            <div class="card-header">
              <h3 class="card-title">Sync History</h3>
              <p class="card-description">Recent synchronization events from your identity provider</p>
            </div>
            <div class="card-content">
              <div class="empty-state py-8">
                <div class="w-12 h-12 rounded-full bg-muted flex items-center justify-center mx-auto mb-3">
                  <i data-lucide="refresh-cw" class="w-6 h-6 text-muted-foreground"></i>
                </div>
                <p class="text-sm font-medium">No sync history yet</p>
                <p class="text-xs text-muted-foreground">Connect a directory provider above to start syncing employees automatically.</p>
              </div>
            </div>
          </div>

        </div><!-- /METHOD: SCIM / Directory Sync -->

      </main>
    </div>
  </div>

  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
  <script src="../js/main.js"></script>
  <script>
    lucide.createIcons();

    // Import method switching
    document.querySelectorAll('.import-method-btn').forEach(btn => {
      btn.addEventListener('click', function () {
        // Update active card styling
        document.querySelectorAll('.import-method-btn').forEach(b => b.classList.remove('active-method'));
        this.classList.add('active-method');

        // Show/hide method panels
        const method = this.dataset.method;
        document.getElementById('method-csv').style.display = method === 'csv' ? '' : 'none';
        document.getElementById('method-api').style.display = method === 'api' ? '' : 'none';
        document.getElementById('method-scim').style.display = method === 'scim' ? '' : 'none';

        // Re-render icons for newly visible content
        lucide.createIcons();
      });
    });
  </script>
</body>
</html>
